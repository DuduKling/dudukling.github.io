"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _createForOfIteratorHelper(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw a}}}}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function offset(e){var t=e.getBoundingClientRect(),e=window.pageYOffset||window.scrollY;return{top:t.top+e}}"function"!=typeof NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),document.addEventListener("scroll",function(){800<screen.width&&MenuChangeOnScroll()});var about=document.getElementById("sobre"),menu=document.getElementById("js-menu"),aboutTop=offset(about);function MenuChangeOnScroll(){var e=window.scrollY;aboutTop.top-60<=e?(menu.classList.remove("-top"),menu.classList.add("-scroll")):(menu.classList.remove("-scroll"),menu.classList.add("-top"))}var body=document.getElementById("js-body"),portfolioFrame=document.querySelectorAll(".frame"),modal=document.getElementById("js-modal"),closeModal=document.getElementById("js-closeModal");portfolioFrame.forEach(function(e,t){portfolioFrame[t].addEventListener("click",function(){for(var e=this.children[1].getAttribute("src"),t=Number(this.children[1].getAttribute("numParts")),r=modal.children[1],n=r.getAttribute("alt"),a=1;a<=t;a++){var o=document.createElement("img");o.src=e.replace("-1","-".concat(a)),o.alt="".concat(n," - Image part ").concat(a),r.appendChild(o)}body.setAttribute("style","overflow: hidden;"),modal.classList.remove("-hide"),modal.classList.add("-show")})}),closeModal.addEventListener("click",function(){modal.children[1].innerHTML="",body.setAttribute("style","overflow: auto;"),modal.scrollTop=0,modal.classList.remove("-show"),modal.classList.add("-hide")}),modal.addEventListener("click",function(e){e.target===this&&(modal.children[1].innerHTML="",body.setAttribute("style","overflow: auto;"),this.scrollTop=0,this.classList.remove("-show"),this.classList.add("-hide"))});var emailSubmit=document.getElementById("js-emailSubmit");emailSubmit.addEventListener("click",function(){var e=document.getElementById("js-inputName"),t=document.getElementById("js-inputSubject"),r=document.getElementById("js-inputMessage"),n=e.value,a=t.value,o=r.value,o="mailto:eduardokmesiano@gmail.com?subject="+(a+" - "+n).replace(/ /g,"%20")+"&body="+o.replace(/ /g,"%20").replace(/\n/g,"%0D%0A");emailSubmit.setAttribute("href",o),e.value="",t.value="",r.value=""});var modalHandler=function(e){function t(){s.remove(o)}var r=_slicedToArray(e,4),n=r[0],a=r[1],e=r[2],o=r[3],n=document.getElementById(n),i=document.getElementById(a),e=document.getElementById(e),s=i.classList;n.addEventListener("click",function(){s.add(o)}),e.addEventListener("click",t),window.addEventListener("click",function(e){e.target===i&&t()})};modalHandler(["langBtn","langModal","langModalClose","langModalShow"]);var theme={btn:"themeBtn",modal:"themeModal",closeBtn:"themeModalClose",cssClass:"themeModalShow",localStorageKey:"theme",documentAttr:"data-theme"};modalHandler([theme.btn,theme.modal,theme.closeBtn,theme.cssClass]);var getStoredTheme=function(e){e=localStorage.getItem(e)||document.documentElement.getAttribute(theme.documentAttr)||null;e&&themeHandler(e)};function themeHandler(e){document.documentElement.setAttribute(theme.documentAttr,e),localStorage.setItem(theme.localStorageKey,e);var t=_createForOfIteratorHelper(document.querySelectorAll(".themeItem"));try{for(t.s();!(n=t.n()).done;){var r=n.value,n=r.querySelector("button");r.querySelector(".hiddenKey").innerHTML===e?n.setAttribute("disabled",!0):n.removeAttribute("disabled")}}catch(e){t.e(e)}finally{t.f()}}getStoredTheme(theme.localStorageKey);var canvas=document.getElementById("canvas1"),ctx=canvas.getContext("2d");canvas.width=window.innerWidth,canvas.height=window.innerHeight;var particlesArray,themeColor="#3c3c3c80",avatarHover=document.getElementById("avatarHover"),hasMouse=!1;avatarHover.addEventListener("dblclick",function(){(hasMouse=!hasMouse)?mouse.start():mouse.end()});var Mouse=function(){function r(e){var t=this;_classCallCheck(this,r),this.x=null,this.y=null,this.radius=e.height/80*(e.width/80),this.moveListener=function(e){t.x=e.x,t.y=e.y},this.outListener=function(){t.x=void 0,t.y=void 0}}return _createClass(r,[{key:"start",value:function(){window.addEventListener("mousemove",this.moveListener,!1),window.addEventListener("mouseout",this.outListener,!1)}},{key:"end",value:function(){window.removeEventListener("mousemove",this.moveListener,!1),window.removeEventListener("mouseout",this.outListener,!1)}}]),r}(),Particle=function(){function i(e){var t=e.x,r=e.y,n=e.dirX,a=e.dirY,o=e.size,e=e.color;_classCallCheck(this,i),this.x=t,this.y=r,this.dirX=n,this.dirY=a,this.size=o,this.color=e}return _createClass(i,[{key:"draw",value:function(){ctx.beginPath(),ctx.arc(this.x,this.y,this.size,0,2*Math.PI,!1),ctx.fillStyle=themeColor,ctx.fill()}},{key:"update",value:function(){var e,t;(this.x>canvas.width||this.x<0)&&(this.dirX=-this.dirX),(this.y>canvas.height||this.y<0)&&(this.dirY=-this.dirY),hasMouse&&(e=mouse.x-this.x,t=mouse.y-this.y,Math.sqrt(e*e+t*t)<mouse.radius+this.size&&(mouse.x<this.x&&this.x<canvas.width-10*this.size&&(this.x+=10),mouse.x>this.x&&this.x>10*this.size&&(this.x-=10),mouse.y<this.y&&this.y<canvas.height-10*this.size&&(this.y+=10),mouse.y>this.y&&this.y>10*this.size&&(this.y-=10))),this.x+=this.dirX,this.y+=this.dirY,this.draw()}}]),i}();function initParticles(){particlesArray=[];for(var e=canvas.height*canvas.width/9e3,t=0;t<e;t++){var r=5*Math.random()+2,n=Math.random()*(innerWidth-2*r-2*r)+2*r,a=Math.random()*(innerHeight-2*r-2*r)+2*r,o=5*Math.random()-2.5,i=5*Math.random()-2.5;particlesArray.push(new Particle({x:n,y:a,dirX:o,dirY:i,size:r,color:themeColor}))}}function animate(){requestAnimationFrame(animate),ctx.clearRect(0,0,innerWidth,innerHeight);var e,t=_createForOfIteratorHelper(particlesArray);try{for(t.s();!(e=t.n()).done;){e.value.update()}}catch(e){t.e(e)}finally{t.f()}connect()}function connect(){var e,t=1,r=_createForOfIteratorHelper(particlesArray);try{for(r.s();!(e=r.n()).done;){var n=e.value,a=_createForOfIteratorHelper(particlesArray);try{for(a.s();!(s=a.n()).done;){var o=s.value,i=n.x-o.x,s=n.y-o.y,s=i*i+s*s;s<canvas.width/7*(canvas.height/7)&&(s=(t=(t=1-s/2e4)<0?0:Math.round(100*t)).toString(16).padStart(2,"0"),s="".concat(themeColor.slice(0,-2)).concat(s),ctx.strokeStyle=s,ctx.lineWidth=1,ctx.beginPath(),ctx.moveTo(n.x,n.y),ctx.lineTo(o.x,o.y),ctx.stroke())}}catch(e){a.e(e)}finally{a.f()}}}catch(e){r.e(e)}finally{r.f()}}window.addEventListener("resize",function(){canvas.width=innerWidth,canvas.height=innerHeight,mouse.radius=canvas.height/80*(canvas.width/80)});var mouse=new Mouse(canvas);initParticles(),animate();